<div class="dashboard-container">
  <!-- Header Section -->
  <header class="app-header">
    <div class="container">
      <div class="header-content">
        <div class="logo-section">
          <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7V11C2 16.55 6.84 21.74 12 23C17.16 21.74 22 16.55 22 11V7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 8V16M8 12H16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <h1 class="app-title">Motor M1 Application</h1>
        </div>
      </div>
    </div>
  </header>

  <div class="dashboard-root" *ngIf="vehicleInfo$ | async as vehicle">
  <header class="hero">
    <div class="hero__id">
      <div class="hero__badge" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M5 17H4C3.45 17 2.98 16.78 2.59 16.41C2.22 16.02 2 15.55 2 15V11L4.48 5.22C4.64 4.84 5 4.5 5.5 4.5H18.5C19 4.5 19.36 4.84 19.52 5.22L22 11V15C22 15.55 21.78 16.02 21.41 16.41C21.02 16.78 20.55 17 20 17H19M6 19.5C6 20.33 6.67 21 7.5 21C8.33 21 9 20.33 9 19.5C9 18.67 8.33 18 7.5 18C6.67 18 6 18.67 6 19.5M15 19.5C15 20.33 15.67 21 16.5 21C17.33 21 18 20.33 18 19.5C18 18.67 17.33 18 16.5 18C15.67 18 15 18.67 15 19.5Z" stroke="currentColor" stroke-width="1.5"/>
        </svg>
      </div>
      <div class="hero__text">
        <h1 class="hero__title">{{ vehicle.name }}</h1>
        <p class="hero__meta" *ngIf="vehicle.vin">VIN {{ vehicle.vin }}</p>
      </div>
    </div>
    <a class="hero__action btn btn-primary" [routerLink]="['/vehicles']">
      <svg class="btn-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M15 19L8 12L15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Change Vehicle
    </a>
  </header>

  <section class="sections">
    <a class="tile" [routerLink]="[]" [queryParams]="{articleIdTrail: '-998'}" queryParamsHandling="merge">
      <span class="tile__icon">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
          <path d="M16 2V6M8 2V6M3 10H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </span>
      <span class="tile__content">
        <span class="tile__title">Maintenance Schedules</span>
        <span class="tile__desc">Intervals and required services</span>
      </span>
      <span class="tile__meta" *ngIf="(kpiCounts$ | async) as counts">{{ counts['Maint. Schedules'] || counts['Maintenance Schedules'] || '—' }}</span>
      <span class="tile__arrow">→</span>
    </a>

    <a class="tile" [routerLink]="['/docs/Procedures']" queryParamsHandling="merge">
      <span class="tile__icon">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21.71 8.71L15.29 2.29C15.11 2.11 14.86 2 14.59 2H4C2.9 2 2 2.9 2 4V20C2 21.1 2.9 22 4 22H20C21.1 22 22 21.1 22 20V9.41C22 9.14 21.89 8.89 21.71 8.71Z" stroke="currentColor" stroke-width="2"/>
          <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
      <span class="tile__content">
        <span class="tile__title">Repair Procedures</span>
        <span class="tile__desc">Step-by-step guides</span>
      </span>
      <span class="tile__meta" *ngIf="(kpiCounts$ | async) as counts">{{ counts['Procedures'] || '—' }}</span>
      <span class="tile__arrow">→</span>
    </a>

    <a class="tile" [routerLink]="['/docs/Diagrams']" queryParamsHandling="merge">
      <span class="tile__icon">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
          <path d="M7 12H17M12 7V17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </span>
      <span class="tile__content">
        <span class="tile__title">Diagrams</span>
        <span class="tile__desc">Wiring and component layouts</span>
      </span>
      <span class="tile__meta" *ngIf="(kpiCounts$ | async) as counts">{{ counts['Diagrams'] || '—' }}</span>
      <span class="tile__arrow">→</span>
    </a>

    <a class="tile" [routerLink]="['/docs/Diagnostic Codes']" queryParamsHandling="merge">
      <span class="tile__icon">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 9V13M12 17H12.01M21 12C21 16.97 16.97 21 12 21C7.03 21 3 16.97 3 12C3 7.03 7.03 3 12 3C16.97 3 21 7.03 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
      <span class="tile__content">
        <span class="tile__title">Diagnostic Codes</span>
        <span class="tile__desc">DTC definitions and fixes</span>
      </span>
      <span class="tile__meta" *ngIf="(kpiCounts$ | async) as counts">{{ counts['Diagnostic Codes'] || '—' }}</span>
      <span class="tile__arrow">→</span>
    </a>

    <a class="tile" [routerLink]="['/docs/Specs']" queryParamsHandling="merge">
      <span class="tile__icon">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M14 2V8H20M16 13H8M16 17H8M10 9H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
      <span class="tile__content">
        <span class="tile__title">Specifications</span>
        <span class="tile__desc">Capacities and technical data</span>
      </span>
      <span class="tile__meta" *ngIf="(kpiCounts$ | async) as counts">{{ counts['Specs'] || '—' }}</span>
      <span class="tile__arrow">→</span>
    </a>

    <a class="tile" [routerLink]="['/docs/Service Bulletins']" queryParamsHandling="merge">
      <span class="tile__icon">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 8C19.66 8 21 6.66 21 5C21 3.34 19.66 2 18 2C16.34 2 15 3.34 15 5C15 6.66 16.34 8 18 8ZM6 13C7.66 13 9 11.66 9 10C9 8.34 7.66 7 6 7C4.34 7 3 8.34 3 10C3 11.66 4.34 13 6 13ZM18 13C16.34 13 15 14.34 15 16C15 17.66 16.34 19 18 19C19.66 19 21 17.66 21 16C21 14.34 19.66 13 18 13ZM6 15C4.34 15 3 16.34 3 18C3 19.66 4.34 21 6 21C7.66 21 9 19.66 9 18C9 16.34 7.66 15 6 15Z" stroke="currentColor" stroke-width="1.5"/>
        </svg>
      </span>
      <span class="tile__content">
        <span class="tile__title">Service Bulletins</span>
        <span class="tile__desc">TSBs and updates</span>
      </span>
      <span class="tile__meta" *ngIf="(kpiCounts$ | async) as counts">{{ counts['Service Bulletins'] || '—' }}</span>
      <span class="tile__arrow">→</span>
    </a>
  </section>

  <section class="continue" *ngIf="bookmarkParams$ | async as params">
    <a class="tile tile--continue" [routerLink]="[]" [queryParams]="params" queryParamsHandling="merge">
      <span class="tile__icon">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19 21L12 16L5 21V5C5 4.46957 5.21071 3.96086 5.58579 3.58579C5.96086 3.21071 6.46957 3 7 3H17C17.5304 3 18.0391 3.21071 18.4142 3.58579C18.7893 3.96086 19 4.46957 19 5V21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
      <span class="tile__content">
        <span class="tile__title">Continue where you left off</span>
        <span class="tile__desc">Open your saved bookmark</span>
      </span>
      <span class="tile__arrow">Open</span>
    </a>
  </section>

  <section class="recent" *ngIf="recentArticles$ | async as recent">
    <h3 class="section-title">Recent results</h3>
    <div class="recent__list">
      <a class="recent__item" *ngFor="let item of recent"
         [routerLink]="[]"
         [queryParams]="{ articleIdTrail: item.id }"
         queryParamsHandling="merge"
         title="{{ item.title || item.id }}">
        <span class="recent__title">{{ item.title || 'Untitled' }}</span>
        <span class="recent__arrow">→</span>
      </a>
    </div>
  </section>

  <section class="helper">
    <div class="helper__card">
      <div class="helper__icon">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
          <path d="M12 16V12M12 8H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </div>
      <div class="helper__text">
        <h3>Pro tip</h3>
        <p>Use the left panel to browse categories or the search at the top to jump directly to a topic.</p>
      </div>
    </div>
  </section>
</div>

  <!-- Footer -->
  <footer class="app-footer">
    <div class="container">
      <p class="footer-text">&copy; 2025 Motor M1 Application. All rights reserved.</p>
    </div>
  </footer>
</div>

